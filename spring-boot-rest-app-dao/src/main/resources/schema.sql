CREATE TABLE AUTHOR
(
    ID NUMBER NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
    NAME VARCHAR2(100 BYTE),
    SURNAME VARCHAR2(100 BYTE),
    NATIONALITY VARCHAR2(50 BYTE),
    DATE_OF_BIRTH TIMESTAMP
);

CREATE TABLE BOOK
(
    ISBN VARCHAR2(13 BYTE) NOT NULL PRIMARY KEY,
    TITLE VARCHAR2(400 BYTE),
    TOTAL_PAGE NUMBER,
    AUTHOR_ID NUMBER,
    FOREIGN KEY(AUTHOR_ID) REFERENCES AUTHOR(ID)
);

CREATE TABLE BOOK_DATA
(
    ID NUMBER NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
    ISBN VARCHAR2(13 BYTE) NOT NULL,
    BOOK_CLASSIFICATION VARCHAR2(100 BYTE),
    PUBLISHER VARCHAR2(100 BYTE),
    PUBLICATION_DATE TIMESTAMP,
    TOTAL_SOLD NUMBER,
    FOREIGN KEY(ISBN) REFERENCES BOOK(ISBN)
);

CREATE TABLE BOOK_PRICE
(
    ID NUMBER NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
    DESCRIPTION VARCHAR2(4000 BYTE),
    PRICE DOUBLE PRECISION,
    START_DATE TIMESTAMP,
    END_DATE TIMESTAMP,
    ISBN VARCHAR2(13 BYTE),
    FOREIGN KEY(ISBN) REFERENCES BOOK(ISBN)
);

CREATE TABLE REVIEW
(
    ID NUMBER NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY,
    DATE TIMESTAMP,
    VOTE NUMBER,
    DESCRIPTION VARCHAR2(4000 BYTE),
    AUTHOR_ID NUMBER,
    ISBN VARCHAR2(13 BYTE)
);

ALTER TABLE REVIEW
    ADD FOREIGN KEY (AUTHOR_ID) REFERENCES AUTHOR (ID);

ALTER TABLE REVIEW
    ADD FOREIGN KEY (ISBN) REFERENCES BOOK (ISBN);